{"version":3,"sources":["../../../src/flux/zh-middleware/addCategories.js"],"names":["crFilterBy","utils","getCategory","addCategories","getState","next","action","type","ACTION","ADD_CATEGORY","state","category","_filterBy","app","filter","categories","map","station"],"mappings":";;;;;;;AAAA;;AAEA;;AAEA,IAAQA,UAAR,GAAoCC,iBAApC,CAAQD,UAAR;AAAA,IAAoBE,WAApB,GAAoCD,iBAApC,CAAoBC,WAApB;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB;AAAA,MAAGC,QAAH,QAAGA,QAAH;AAAA,SAAkB,UAAAC,IAAI;AAAA,WAAI,UAAAC,MAAM,EAAI;AACxD,UAAIA,MAAM,CAACC,IAAP,KAAgBC,gBAAOC,YAA3B,EAAyC;AACjC,YAAAC,KAAK,GAAGN,QAAQ,EAAhB;AAAA,YACFO,QADE,GACWL,MADX,CACFK,QADE;AAAA,YAEJC,SAFI,GAEQZ,UAAU,CAACU,KAAK,CAACG,GAAN,CAAUC,MAAX,CAFlB;;AAGNR,QAAAA,MAAM,CAACS,UAAP,GAAoBb,WAAW,CAACS,QAAD,CAAX,CACjBK,GADiB,CACb,UAAAC,OAAO,EAAI;AACdA,UAAAA,OAAO,CAACN,QAAR,GAAmBA,QAAnB;AACA,iBAAOM,OAAP;AACD,SAJiB,EAKjBH,MALiB,CAKVF,SALU,CAApB;AAMD;;AACD,aAAOP,IAAI,CAACC,MAAD,CAAX;AACD,KAb2C;AAAA,GAAtB;AAAA,CAAtB;;eAeeH,a","sourcesContent":["import { ACTION } from '../stations/actions'\r\n\r\nimport utils from '../../sound/utils'\r\n\r\nconst { crFilterBy, getCategory } = utils;\r\n\r\nconst addCategories = ({ getState }) => next => action => {\r\n  if (action.type === ACTION.ADD_CATEGORY) {\r\n    const state = getState()\r\n    , { category } = action\r\n    , _filterBy = crFilterBy(state.app.filter);\r\n    action.categories = getCategory(category)\r\n      .map(station => {\r\n        station.category = category\r\n        return station;\r\n      })\r\n      .filter(_filterBy);\r\n  }\r\n  return next(action);\r\n}\r\n\r\nexport default addCategories\r\n"],"file":"addCategories.js"}